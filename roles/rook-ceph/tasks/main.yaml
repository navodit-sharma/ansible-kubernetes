---

- name: Collecting only facts from concerned machines
  ansible.builtin.setup:
    gather_timeout: 15
  delegate_to: "{{ item }}"
  delegate_facts: True
  loop: "{{ groups['storageminion']}}"
  when: install_type == "server"

- name: "Starting setup of {{ install_type }} node(s)"
  include_tasks: "{{ role_path }}/tasks/{{ install_type }}.yaml"
